"use strict";(self.webpackChunkTopWritePlugins_knowledge=self.webpackChunkTopWritePlugins_knowledge||[]).push([[21],{21:(e,t,a)=>{a.r(t),a.d(t,{default:()=>s});var r=a(99),n=a(196),i=a(468);function s(e){let{children:t}=e;const a=(0,r.useEventTarget)();return(0,n.useEffect)((()=>{const e=e=>{let{detail:t}=e;t.schema.properties={...t.schema.properties,reference:{title:"关联文档",type:"string"}},t.uiSchema={...t.uiSchema,reference:{"ui:help":"关联文档后该分组下的章节替换为被关联文档的所有章节，只能关联已发布的公开文档","ui:options":{widget:"typeahead",placeholder:"输入文档名称搜索",async onSearch(e){const t=(0,i.zP)();if(e.query){return(await t.getBooks(e.query)).map((e=>({value:e.hash_id,label:e.name})))}if(e.value){const a=await t.getBook(e.value);if(a)return[{value:a.hash_id,label:a.name}]}}}}}};a.addEventListener("beforeCreatePart",e),a.addEventListener("beforeUpdatePart",e)}),[]),t}}}]);
//# sourceMappingURL=21-8d155d.js.map