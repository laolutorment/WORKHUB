<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>环境设置 - xampp+thinkphp6.0+siyucams网站搭建教程</title>
    
    
</head>
<body>
<div id="root"></div>
<script type="application/payload+json">
{"id":"Waqo1W","summary":[{"title":"环境搭建","articles":[{"title":"前言","ref":"前言.md","path":"qianyan.html","metadata":{"mtime":"2023-02-17T23:06:54+08:00"}},{"title":"软件下载安装","ref":"软件下载安装.md","path":"ruanjianxiazaianzhuang.html","metadata":{"mtime":"2023-02-19T22:11:58+08:00"}},{"title":"环境设置","ref":"环境设置.md","path":"huanjingshezhi.html","metadata":{"mtime":"2023-02-20T00:11:54+08:00"}}]},{"title":"系统使用说明","articles":[{"title":"系统设置","ref":"系统设置.md","path":"xitongshezhi.html"},{"title":"新建模块","ref":"新建模块.md","path":"xinjianmokuai.html"},{"title":"字段管理","ref":"字段管理.md","path":"ziduanguanli.html"},{"title":"菜单规则","ref":"菜单规则.md","path":"caidanguize.html"},{"title":"权限管理","ref":"权限管理.md","path":"quanxianguanli.html"},{"title":"栏目管理","ref":"栏目管理.md","path":"lanmuguanli.html"},{"title":"内容管理","ref":"内容管理.md","path":"neirongguanli.html"},{"title":"数据库管理","ref":"数据库管理.md","path":"shujukuguanli.html"}]},{"title":"二次开发说明","articles":[{"title":"目录结构","ref":"目录结构.md","path":"mulujiegou.html"},{"title":"后台框架","ref":"后台框架.md","path":"houtaikuangjia.html"},{"title":"表单构建","ref":"表单框架.md","path":"biaodankuangjia.html"},{"title":"表格构建","ref":"表格构建.md","path":"biaogegoujian.html"},{"title":"前台框架","ref":"前台框架.md","path":"qiantaikuangjia.html"},{"title":"各类插件","ref":"各类插件.md","path":"geleichajian.html"}]}],"config":{"title":"xampp+thinkphp6.0+siyucams网站搭建教程"},"file":{"path":"huanjingshezhi.html","content":"## :-: 一、siyucms系统安装\n\n本系统是对siyucms V6系统的改进和优化版本，以下简称修改版。\n\n原版由作者维护更新，免费开源。修改版主要增加和修改的内容有：\n\n1. 增加系统设置菜单，以便于修改后台的logo、版权信息等界面设置。\n2. 增加LOGO图片大小提示。\n3. 优化上传插件，解决多文件上传时只显示一次进度条的问题。\n4. 增加多图或者多文件上传时，在前端删除已上传文件的功能，避免文件重复上传。\n5. 增加“多图”字段类型在列表中的预览功能。\n6. 增加图片上传时，在右侧预览的功能。\n7. 修复在编辑表单页面移除单个文件时移除全部文件的bug。\n8. 增加在多文件和多图上传时，可以从站内文件搜索选择的功能。\n9. 增加表单字段类型“代码编辑器”，以便于存储代码类字段。\n10. 优化修改字段类型默认值，当选择字段类型后，自动匹配最优的默认值和属性。\n11. 重新调整字段属性设置，把列表的字段属性和表单的字段属性分开，以便于独立设置。\n12. 优化表格页数显示，增加显示“所有”记录选项，解决单页最大页数固定不可修改的问题。\n13. 增加数据库直接按字段添加、更新、删除导入导出功能。\n14. 优化EXCEL表格导出功能，（解决字段数超过40个时导出错误的问题、默认强制以文本格式输出，防止长数字转换成科学计数法的问题、列宽度与内容基本匹配、增加标题行、文件名加入日期后缀等。）\n15. 修改登录模块，重新登录后可以跳转至登录前的页面。\n16. 增加上传文件管理模块，可对上传文件夹内的文件进行查询和删除。\n17. 增加表格设置模块，可对每个表格进行单独全局设置。\n18. 增加设置字段的模型关联时，自动在对应模型中写入关联方法，避免手动设置或者重新生成模型。\n19. 修改上传路径配置，上传的文件按模型建立新的文件夹保存。\n\n原版的系统可到官网了解和下载：<https:\/\/www.siyucms.com\/>。本修改版下载地址为：<https:\/\/github.com\/laolutorment\/siyucms_optimized_zip>。\n\n^\n\n![](.topwrite\/assets\/\\~4CLXD}A5P_333{SY}PRF\\)9.png)\n\n^\n\n下载后，将文件解压，放在盘里任意位置，为方便管理，建议放在盘根目录下。\n\n## :-: 二、根目录设置\n\n在thinkphp框架中，需要把根目录设置在public目录：\n\n^\n\n![](.topwrite\/assets\/EN@W_Z4L_29]L\\(H_PEBFV0N.png)\n\n^\n\n设置方法为：打开xampp控制面板，选择Apache设置按钮config,选择httpd.conf：\n\n^\n\n![](.topwrite\/assets\/QQ图片20230218205356.png)\n\n^\n\n在该文件的根目录设置中填入自己网站所在根目录，即系统根目录下的public文件夹。\n\n^\n\n![](.topwrite\/assets\/\\~9R0SD_G2\\~K1UWA1\\)W\\[N2I9.png)\n\n## :-: 三、虚拟主机设置\n\n有时，我们需要同时上线两个网站或者同时调试两个网站，那么我们就可以设置虚拟主机。\n\n虚拟主机是在Apache中设置多个不同域名所对应的站点根目录，当用户以不同域名访问的时候，虽然这些域名都指向同一个IP但是Apahe会根据不同的域名来指引到所对应的根目录。因此，如果是线上的网站，就需要提前申请多个域名，并将他们绑定到同一个IP。如果是本地调试的话，就可以设置系统的转发规则，通过设置Host文件，来引导本地将指定的域名优先转发给127.0.0.1。\n\n示例如下：\n\n#### 1.假设我们已有两个域名：[www.ztx.com和www.home.com；](http:\/\/www.ztx.com和www.home.com；)\n\n#### 2.修改添加host文件，使他们在本地访问时都指向127.0.0.1，如下图：\n\n^\n\n![](.topwrite\/assets\/image.png)\n\n^\n\n![](.topwrite\/assets\/image_1676726485769.png)\n\n^\n\n![](.topwrite\/assets\/B5\\(_KLA$V3ZUW@@1WI7}0VA.png)\n\n^\n\n#### 3.修改Apache虚拟主机设置。打开Apache安装目录下的httpd.conf，找到“httpd-vhosts”项目，设置为包含该项目设置：\n\n^\n\n![](.topwrite\/assets\/QQ图片20230218223903.png)\n\n^\n\n根据对应的路径，找到相应的虚拟主机设置的文件。\n\n^\n\n![](.topwrite\/assets\/Y`COKR\\){AAB9\\($1QO\\(T\\)A]E.png)\n\n^\n\n可参照以下模板设置参数，重点设置域名和根目录就可以了，其它项目可以默认。\n\n^\n\n```\n<VirtualHost *:80>\r\n    ServerAdmin webmaster@dummy-host.example.com  服务器管理员右键\r\n    DocumentRoot \"F:\/site\/ztx\/public\"\r\n    <Directory \"F:\/site\/ztx\/public\"> \r\n     Options FollowSymLinks \r\n     AllowOverride All \r\n     Require all granted \r\n   <\/Directory>   \r\n    ServerName ztx.com\r\n    ErrorLog \"logs\/ztx.example.com-error.log\"\r\n    CustomLog \"logs\/ztx.example.com-access.log\" common\r\n<\/VirtualHost>\r\n\n```\n\n配置参数详解：\n\n```\n# <VirtualHost *:80> \/\/监听ip和端口。*号表示监听所有ip。\r\n#      ServerAdmin webmaster@dummy-host.example.com  \/\/服务器管理员邮件，可随意设置，用处不大\r\n#      DocumentRoot \"F:\/site\/ztx\/public\"  \/\/站点根目录\r\n#      <Directory \"F:\/site\/ztx\/public\"> \/\/对该目录的权限等设置\r\n#      Options FollowSymLinks \r\n#      AllowOverride All \r\n#      Require all granted \r\n#    <\/Directory>   \r\n#     ServerName ztx.com  \/\/域名设置\r\n#     ErrorLog \"logs\/ztx.example.com-error.log\" \/\/错误日志路径\r\n#     CustomLog \"logs\/ztx.example.com-access.log\" common \/\/独立日志路径\r\n# <\/VirtualHost>\r\n# 使用<Directory>… <\/Directory>设置指定目录的访问权限，其中可包含：\r\n# Options、Allow、Override、Order、Allow、Deny、Require\r\n# 六个属性。\r\n\r\n# Options属性\r\n# Options FollowSymLinks Indexes MultiViews\r\n# Options可以组合设置下列选项：\r\n# All：用户可以在此目录中作任何事情。\r\n# ExecCGI：允许在此目录中执行CGI程序。\r\n# FollowSymLinks：服务器可使用符号链接指向的文件或目录。\r\n# Indexes：服务器可生成此目录的文件列表。\r\n# None：不允许访问此目录。\r\n\r\n# AllowOverride\r\n# AllowOverride None\r\n# AllowOverride会根据设定的值决定是否读取目录中的.htaccess文件，来改变原来所设置的权限。\r\n# All：读取.htaccess文件的内容，修改原来的访问权限。\r\n# None：不读取.htaccess文件\r\n# 为避免用户自行建立.htaccess文件修改访问权限，http.conf文件中默认设置每个目录为： AllowOverride None。\r\n\r\n# AccessFileName\r\n# AccessFileName filename\r\n# AccessFileName指令用于指定保护目录设定文件的文件名称，默认值为“.htaccess”。\r\n# AccessFileName .acl\r\n\r\n# Allow\r\n# 设定允许访问Apache服务器的主机\r\n# Allow from all\r\n# 允许所有主机的访问\r\n# Allow from 202.96.0.97 202.96.0.98\r\n# 允许来自指定IP地址主机的访问\r\n\r\n# Deny 设定拒绝访问Apache服务器的主机 Deny from all 拒绝来自所有主机的访问 Deny from 202.96.0.99 202.96.0.88 拒绝指定IP地址主机的访问\r\n\r\n# Order Order allow,deny Order用于指定allow和deny的先后次序。\r\n\r\n# Require 设定主机访问：\r\n\r\n# require all  granted\r\n# require ip 192.168.1.0\/24\r\n# 　　  仅允许192.168.0.0\/24网络的主机访问\r\n\r\n# require all  granted\r\n# require not ip 192.168.1.2\r\n# 　　  禁止192.168.1.2的主机访问,其他的都允许访问\r\n\r\n# require all  denied\r\n# 　　  拒绝所有访问\n```\n\n^\n\n完成后，在Xampp控制面板重启Apache服务即可。\n\n^\n\n## :-: ![](.topwrite\/assets\/QQ图片20230219221009.png)\n\n##\n\n## :-: 四、数据库设置\n\n点击xampp控制面板上的数据库管理按钮，打开数据库管理页面。\n\n^\n\n![](.topwrite\/assets\/JA]WSE{XQNWB82\\~$8B9RI]A.png)\n\n^\n\n![](.topwrite\/assets\/OAEA\\~EQ\\~O6]AGE2SD0{R]$D.png)\n\n^\n^\n\n![](.topwrite\/assets\/QQ图片20230219222007.png)\n\n^\n\n![](.topwrite\/assets\/QQ图片20230219222237.png)\n\n^\n\n![](.topwrite\/assets\/image_1676816850264.png)\n\n^\n\n![](.topwrite\/assets\/C3XL9\\(_97M7KNTJ1E\\[E47JR.png)\n\n^\n\n![](.topwrite\/assets\/QQ图片20230219224034.png)\n\n^\n\n在导入的过程中，由于文件过大，中间可能会出现中断，中断后继续按原来的步骤操作上传就可以接上原来的数据了。\n\n## :-: 五、php设置\n\n由于siyucms系统所使用的thinkphp框架生成验证码的功能依赖php的GD扩展，因此需要在php安装目录下的php.ini文件中添加该项目的扩展：\n\n![](.topwrite\/assets\/3}LORT{9A]X_SOCWC8\\~3}6V.png)\n\n^\n^\n\n![](.topwrite\/assets\/UZQCA7@3Z21GBE$\\)2\\)28IBA.png)\n\n^\n\n以上设置全部完成以后，重启Apache，就可以在浏览器中输入127.0.0.1或者相应的域名，就可以打开siyucms系统的主页。\n\n## :-: 六、xampp设置\n\n^\n\n![](.topwrite\/assets\/QQ图片20230220000942.png)\n","meta":{"mtime":"2023-02-20T00:11:54+08:00"}},"lfs":{"url":"https:\/\/1epkl3vrdv.k.topthink.com\/lfs\/{oid}","files":{".topwrite\/assets\/2[1LA)8X_(K_A0CPWWN[`9U.png":"5c2dbdd88dbb82cca9a6031a278da2b9bff6fe6e3559220549257b87a586e044",".topwrite\/assets\/3}LORT{9A]X_SOCWC8~3}6V.png":"692de3318657c1b1bd5d7160173ccefefc7b5c9ea4165a86af9f1b2582afe6bd",".topwrite\/assets\/5$V]`KWA8UO6T82{T[TCJKY.png":"154c1b1970cade8666f5e2c3fbfb9e36a9eaaebe1eb5614e773c9cb3edb99546",".topwrite\/assets\/7$])ZA){WIGO3H(UY_LB0KM.png":"c8f2961f1482d19906a7010f4036418d225d32fb3056f3ad3a3434d7de49374c",".topwrite\/assets\/AG9VJ[I~$G)GZ3Q6V~(`CYN.png":"437b40ebbad70eaea7f88d94e543c933dd8e91f61fadae196e43f09fe2d1f79f",".topwrite\/assets\/B5(_KLA$V3ZUW@@1WI7}0VA.png":"a6093166fa475f8223c07fe4733f055370a230acfc849e5d921c89d0a12314e3",".topwrite\/assets\/C3XL9(_97M7KNTJ1E[E47JR.png":"45ec5c2b1a7141b5695ab242e1ac6fd21fcb7bc78fe9e74294e75f50a75ec3da",".topwrite\/assets\/EN@W_Z4L_29]L(H_PEBFV0N.png":"8429e8e669fd343dd4171eb9e633e6ac0cb78eb7c8cf761acea20b86b381be61",".topwrite\/assets\/F[WB[M9IDLRNE1XXD~G3UD2.png":"3864df7c11335c3037f2de4acd54370e1131f786e3a4e8df0106116f7e750f82",".topwrite\/assets\/JA]WSE{XQNWB82~$8B9RI]A.png":"84ada6d8ce43ac40721f35db91e72550a9ef71fc44f961f37440a6ce0d4e4fdb",".topwrite\/assets\/OAEA~EQ~O6]AGE2SD0{R]$D.png":"782dc12fbf2a1bfcb3328cff627b54ff0dce8a8b67395984bae0b1cd5230fe1a",".topwrite\/assets\/QQ图片20230217223448.png":"12887a4f40a2db0ca2bd169d85b008930937415b37593ded1f83ad814b15bcc9",".topwrite\/assets\/QQ图片20230217224046.png":"96a38746b68f6c24a763e807e984df6340501d3f14f01b6d1c08a8641fbeabd9",".topwrite\/assets\/QQ图片20230217224451.png":"437b40ebbad70eaea7f88d94e543c933dd8e91f61fadae196e43f09fe2d1f79f",".topwrite\/assets\/QQ图片20230218205356.png":"96ddd652455e14c176b02b3bb549d27fd10465145398e9a10e31eeb1baa9bc5e",".topwrite\/assets\/QQ图片20230218211507.png":"6edab293ef5d3369cce70f76172be84e30894ddef121e1a21a64aa3a36d2c600",".topwrite\/assets\/QQ图片20230218223903.png":"6573d5889d643bfdb3d4cca5dbd66fe9f5418a6173f416d1bd09239f191dd2ac",".topwrite\/assets\/QQ图片20230219220637.png":"989ecb67fae2f355ad222600a027574f4352b408b318c1750c2fdba5bc6a6597",".topwrite\/assets\/QQ图片20230219221009.png":"800d32481972528fad0de6f4d271d40ab901777239a1809e919f65b83b5e2793",".topwrite\/assets\/QQ图片20230219222007.png":"b3a9ea5cea008a4f99896d0775b0626da16c071dc70d21381fdce72a05ebd3c1",".topwrite\/assets\/QQ图片20230219222237.png":"f0a9100f445b9260aa22443ae2528c335cf001292a4c234e2e507ca21ca60709",".topwrite\/assets\/QQ图片20230219224034.png":"01a9004bdffe337258c002e3ea803d0b65d36c798fa22ad6d824828b2900948d",".topwrite\/assets\/QQ图片20230220000942.png":"408bd0d91fa7c99bb444a31fbe6c06609a59d36b74fd21c14ac214e894f1db49",".topwrite\/assets\/UU9@SQ4WL8UR6IHLBBD3~_8.png":"2570a0ef06e0de82dbca8b397cd53ce884214ad5064382b8475278e936ac393a",".topwrite\/assets\/UZQCA7@3Z21GBE$)2)28IBA.png":"248f258d9534c64418e184369d72ffa4d4549c31d6230c667450d8f9f327aed8",".topwrite\/assets\/Y`COKR){AAB9($1QO(T)A]E.png":"7fef3b625d59a34a732e8227e7e79c0f86b00ef8db538f227ea61e5864ef72d8",".topwrite\/assets\/[{GS`F_M5H[`HG}UV3~[9AJ.png":"4a0fcc92a72e3188625509c7d3589730fd268fa2e9d54208cf111f1922754c78",".topwrite\/assets\/image.png":"e8f682d8e516eb00e53f7bf7baab023a44119eb4ab1cb4476dfcbaf7a260bc7a",".topwrite\/assets\/image_1676726279373.png":"ce01e675e6eeec6e87a3ba53ff072d95b485bc09786520162439f9acd4d3eb35",".topwrite\/assets\/image_1676726485769.png":"8b41cc9f27e2137e8f297d23a8df0038ae95905dfa5e17703089d4ef0f3db2b1",".topwrite\/assets\/image_1676816850264.png":"5bc7f4c3b2d7c53cc3aefb4ca52a49d88418dcc4966a7b225e30db02bb24c6b6",".topwrite\/assets\/~4CLXD}A5P_333{SY}PRF)9.png":"83ae2e25c6cb187ace8625454116ed69a8360873f6cc65ca341923631ae81cab",".topwrite\/assets\/~9R0SD_G2~K1UWA1)W[N2I9.png":"968fe2b57d423ce8b96cfb109bf2c9e8ab3db71066a4b2495ec18970c27b1f2e"}},"options":{"poweredBy":{"name":"知识管理","link":"https:\/\/www.topthink.com\/product\/knowledge"}}}
</script>

    <script src="asset/lodash/lodash.min.js?v=4.17.21"></script>

    <script src="asset/react/react.production.min.js?v=17.0.2"></script>

    <script src="asset/react-dom/react-dom.production.min.js?v=17.0.2"></script>

    <script src="asset/reader/index.js?v=1.0.49"></script>

    <script src="asset/plugins/components/index.js?v=0.0.4"></script>

    <script src="asset/plugins/knowledge/index.js?v=0.0.12"></script>

    <script src="asset/plugins/theme-default/index.js?v=1.0.25"></script>

<script type="text/javascript">
    TopWrite.bootstrap();
</script>
</body>
</html>
